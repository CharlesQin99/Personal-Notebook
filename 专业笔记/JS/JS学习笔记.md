# JS学习笔记难点总结

## 变量

let有块作用域（可以通过{}创建作用域），**var没有块作用域，但是有函数作用域**

## 原型链

参考：[帮你彻底搞懂JS中的prototype、__proto__与constructor（图解） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/65858062)

## 箭头函数

![](pic\7.jpg)

## 变量提升

**作用**：**<u>可以在运行前确定所需内存空间，可以优化性能。</u>**

难点：代码执行顺序

**var a**：声明的变量会提升到作用域开头

**function a()**：函数声明也会提升到作用域开头，两次**声明函数的话是后面的生效**

注意：

- 在提升后，**<u>var只是声明，function是会赋值</u>**。
- 匿名函数不会提升（因为不是以function开头，而是‘(’开头）

例：

<img src="pic\0.jpg" style="zoom:50%;" />

## 调试

打断点：可以写debugger或者直接行号打断点

<img src="pic\1.jpg" style="zoom:50%;" />

<img src="pic\2.jpg" style="zoom:50%;" />

可以使用F9单步执行

<img src="pic\3.jpg" style="zoom:50%;" />

## 立即执行函数（IIFE）

**作用：**创建一个一次性的函数作用域，**避免变量冲突**

开发中应该尽量减少在全局作用域中编写代码，所以代码要尽量写在局部作用域。由于var变量没有块作用域只有函数作用域，所以希望可以创建一个只执行一次的匿名函数，即为**立即执行函数。**

- 匿名函数以括号开头**（不以function开头，就不会提升）**
- 立即执行函数只会调用一次

<img src="pic\4.jpg" style="zoom:50%;" />

注意：

不要连写两个IIFE，不然可能被错误解析为函数执行，浏览器会报错。如果必须这样写的话需要在函数后加分号。 

错误：

<img src="pic\5.jpg" style="zoom:50%;" />

正确：

<img src="pic\6.jpg" style="zoom:67%;" />

## this

**作用：通过this可以在方法中引用调用方法的对象。**

函数在执行时，**JS解析器每次都会传递进一个隐含的参数，这个参数就叫this**。

1. 以函数形式调用时，this指向的是**window**
2.  以方法的形式调用（obj.xxx），this指向是**调用方法的对象**

换种理解方法就是函数方法调用可以理解为window.fn，所以是一个意思，**即哪个对象调用的，this就指向谁**。

注意：箭头函数没有自己的this，它的this是由外层作用域决定的，和**调用方式无关**，因为**<u>箭头函数的this不会随着调用方式乱变，可以降低开发的复杂度，后期普遍进行使用。</u>**

例：t2是箭头函数没有自己的this，它的this就是外层sayHello的this，即obj对象

<img src="pic\8.jpg" style="zoom:50%;" />

## 严格模式

JS中运行代码的模式有两种：

- **正常模式：**不严格进行语法检查，运行性能较差，而且后期如果报错不易debug。
- **严格模式：**语法检查变得严格，禁止一些语法，提升性能。

严格模式开启：在全局或者所需函数内部**<u>开头写“use strict“</u>**，开发中应该用严格模式来写。
